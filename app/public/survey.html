<!-- This is similar to the reserve.html page in the 
    Hot Restaurant activity of week-13 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Friend Finder Survey Page</title>

  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

</head>
<body>

  <div class="container">

    <div class="jumbotron"> 
      <h1 class="text-center"><span class="glyphicon glyphicon-fire"></span> Friend Finder</h1>
      <hr>
      <h2>Survey Questions</h2>
      <br>
<!-- For Each of the below  Questions on the survey, provide 5 options from 1 thru 5, 
    to represent "Strongly Disagree" to "Strongly Agree"-->
   
   <h3><strong>Question 1</strong></h3>
   <h4>You are physically very active</h4>
   <select class="chosen-select" id="q1">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>
   <h3><strong>Question 2</strong></h3>
   <h4>You like to listen to music with your friends</h4>
   <select class="chosen-select" id="q2">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>
   <h3><strong>Question 3</strong></h3>
   <h4>You could quietly sit together and have a together time</h4>
   <select class="chosen-select" id="q3">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>
   <h3><strong>Question 4</strong></h3>
   <h4>You are a pet lover</h4>
   <select class="chosen-select" id="q4">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>
   <h3><strong>Question 5</strong></h3>
   <h4>You like to listen to music with your friends</h4>
   <select class="chosen-select" id="q5">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>
   <h3><strong>Question 6</strong></h3>
   <h4>you love travelling</h4>
   <select class="chosen-select" id="q6">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>
   <h3><strong>Question 7</strong></h3>
   <h4>you are a very practical person</h4>
   <select class="chosen-select" id="q7">
     <option value=""></option>
     <option value="1">1 (Strongly Disagree)</option>
     <option value="2">2</option>
     <option value="3">3</option>
     <option value="4">4</option>
     <option value="5">5 (Strongly Agree)</option>
   </select>

  <!-- After the user answers the above questions, click on submit button.  Below code creates the button-->

  <!-- Add a modal here and give control to submit button to pop up the modal.  When the modal pops up, the best match is displayed-->


    <footer class="footer">
      <div class="container">
        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/kavirayani/Friend-Finder">GitHub Repo</a></p>
      </div>
    </footer>

  </div>

</body>
</html>

<!-- BELOW CODE IS CRITICAL. IT HANDLES HOW FORM DATA IS SENT TO OUR SERVER -->
<script type="text/javascript">

    // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
    // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
    // Our api recognizes the route (/api/friends)... and then runs the associated code (found in api-routes.js).
    // In this case the associated code "saves" the data to the friends.js file

    $(".submit").on("click", function(event) {
      event.preventDefault();

      // Here we grab the form elements
      var surveyData = {
        name: $("#name").val().trim(),
        photo: $("#photo").val().trim(),
        scores: [$("#q1").val(),$("#q2").val(),$("#q3").val(),$("#q4").val(),$("#q5").val(),$("#q6").val(),$("#q7").val()]
      };

      // This line is the magic. It"s very similar to the standard ajax function we used.
      // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
      // The callback is the response of the server. In our case, we set up code in api-routes that 
      // "returns" the best friends match.

      $.post("/api/friends", surveyData,
        function(data) {

          //display the best matching friend along with his/her picture
              

          // Clear the form when submitting
         

        });

    });

</script>
